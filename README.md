# Bind IQ â€“ Text-Only On-Boarding Chatbot

A full-stack web chatbot that walks users through an insurance-style onboarding flow entirely via **text**.
*(Voice mode is currently unstable â€” text mode works reliably; see â€œKnown Issuesâ€ below.)*

---

## ğŸ› ï¸ Tech Stack

| Layer | Tech |
| :--- | :--- |
| **Front-end** | React 18 + TypeScript + Vite + Tailwind |
| **Back-end** | FastAPI â€¢ SQLModel â€¢ Uvicorn |
| **AI Services** | OpenAI Chat + Whisper + TTS APIs |
| **Database** | PostgreSQL 15 |
| **Container** | Docker & Docker Compose |

---

## ğŸ“‚ Repository Layout

.
â”œâ”€â”€ backend/            # FastAPI application
â”‚   â”œâ”€â”€ main.py         # WebSocket endpoint & routing + orchestration
â”‚   â”œâ”€â”€ models.py       # SQLModel ORM models
â”‚   â”œâ”€â”€ crud.py         # DB helper functions
â”‚   â”œâ”€â”€ conversation_* # FSM prompts / onboarding logic
â”‚   â”œâ”€â”€ openai_client.py# Async wrapper for OpenAI (chat, whisper, TTS)
â”‚   â”œâ”€â”€ .env.example    # Example env vars
â”‚   â””â”€â”€ requirements.txt  # Python deps
â”œâ”€â”€ frontend/           # React (Vite) SPA
â”‚   â””â”€â”€ src/â€¦           # Components, api.ts (WS wrapper), UI logic
â”œâ”€â”€ docker-compose.yml  # Orchestrates postgres | backend | frontend
â””â”€â”€ Dockerfile(s)       # Image definitions for backend/frontend


---

## ğŸš€ Quick Start

### Prerequisites

- **Docker â‰¥ 23** with the Compose plugin.
- (**Optional**) Python 3.10+ and Node.js for running locally without Docker.
- (**Optional**) DataGrip or any PostgreSQL client to inspect the database.

### 1. Clone the Repository

```bash
git clone [https://github.com/daniyalk26/bind-chatbot-textonly.git](https://github.com/daniyalk26/bind-chatbot-textonly.git)
cd bind-chatbot-textonly
2. Configure Environment
Copy the example environment file and add your secrets.

Bash

cp backend/.env.example backend/.env
Now, edit backend/.env with your details.

Ini, TOML

# backend/.env
OPENAI_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxx
DATABASE_URL=postgresql+asyncpg://postgres:postgres@postgres:5432/bindiq_db
Note: In Docker Compose, the hostname postgres automatically resolves to the Postgres container.

3. Spin Up the Full Stack with Docker
This command will build the images and launch the backend, frontend, and postgres services.

Bash

docker compose up --build
Open your browser to http://localhost:5173 to interact with the chatbot.

ğŸ§ª Running Locally (without Docker)
If you prefer to run the services separately for development:

Backend
Bash

cd backend
python -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt
# Ensure your .env file is populated correctly
uvicorn main:app --reload --host 0.0.0.0 --port 8000
Frontend
Bash

cd frontend
npm install
npm run dev
Note: Ensure the frontendâ€™s WebSocket target in api.ts (or an environment override) points to your local backend, e.g., ws://localhost:8000/.

ğŸ—„ï¸ Connecting with DataGrip
To connect to the database from your local machine, you must first expose the Postgres port in docker-compose.yml:

YAML

# docker-compose.yml
services:
  postgres:
    image: postgres:15
    environment:
      POSTGRES_PASSWORD: postgres
      POSTGRES_DB: bindiq_db
    ports:
      - "5432:5432" # Expose port 5432 to the host machine
After updating the file, restart your containers with docker compose up -d. Now you can connect using these settings in DataGrip:

Host: localhost

Port: 5432

Database: bindiq_db

User: postgres

Password: postgres

ğŸš§ Known Issues
Voice Mode Unstable: The necessary backend logic for STT/TTS exists, but the integration is not fully stable. Text-only mode is recommended.

No Migrations: Tables are auto-generated by SQLModel on launch. For production use, a migration tool like Alembic is recommended.

Basic Validation: The app uses basic validation for user inputs but lacks production-grade authentication or advanced security features.
